<!doctype html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>CIT 261 Fluency Evidence | J. Sterling Wright | BYU-Idaho</title>
        <meta name="description" content="Topic fluency page for Sterling Wright in CIT 261: Mobile Application Development at BYU-Idaho">
        <link rel="stylesheet" href="styles/normalize.css">
        <link rel="stylesheet" href="styles/main.css">
    </head>
    <body>
        <header>
        </header>
        <nav>
            <!--There will eventually be a navigation menu here -->
        </nav>
        <main>
            <h2>CIT 261 - Fluency Evidence - JSON</h2>
            <h3>JavaScript Code</h3>
            <pre>
                <code>
var xmlhttp = new XMLHttpRequest();
var url = "quiz.json";
var quizArray = "";
var question = "";

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        quizArray = JSON.parse(this.responseText);
    }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();

function showQuestion() {
    var quizKeys = Object.keys(quizArray.quiz);
    var randCat = quizKeys[Math.floor(Math.random() * quizKeys.length)];
    var catKeys = Object.keys(quizArray.quiz[randCat]);
    var randQ = catKeys[Math.floor(Math.random() * catKeys.length)];
    question = quizArray.quiz[randCat][randQ]; // global variable
    var qQuest = question.question;
    var qOpts = question.options;
    var strOptions = "&ltol&gt&ltli&gt" + qOpts[0]; // assuming at least one option
    for (i = 1; i < qOpts.length; i++) {
        strOptions = strOptions + "&lt/li&gt&ltli&gt" + qOpts[i];
    }
    strOptions += "&lt/li&gt&lt/ol&gt";
    document.getElementById("question").innerHTML = qQuest;
    document.getElementById("options").innerHTML = strOptions;
    document.getElementById("answer").innerHTML = "";
}

function showAnswer() {
    var qAns = question.answer;
    document.getElementById("answer").innerHTML = qAns;
}
                </code>
            </pre>
            <h3>JSON Snippet</h3>
            <pre>
                <code>
{
	"quiz": {
		"movies": {
			"q1": {
				"question": "Which of these was made first?",
				"options": [
					"Star Wars",
					"Citizen Kane",
					"Casablanca",
					"Lawrence of Arabia"
				],
				"answer": "Citizen Kane"
			},
			"q2": {
				"question": "Judy Garland ...",
				"options": [
					"Gone with the Wind",
					"A Streetcar Named Desire",
					"The Wizard of Oz",
					"Peter Pan"
				],
				"answer": "The Wizard of Oz"
			},
		"music": {
			"q1": {
				"question": "Who makes the Stratocaster guitar?",
				"options": [
					"Gibson",
					"Fender",
					"Smiths",
					"Martin"
				],
				"answer": "Fender"
			},
			"q2": {
				"question": "Who composed the classical piece...",
				"options": [
					"Prokofiev",
					"Tchaikovsy",
					"Rachmaninoff",
					"Stravinsky"
				],
				"answer": "Prokofiev"
			},
                </code>
            </pre>
            <h3>Trivia Quiz!</h3>
            <button onclick="showQuestion()">Show a Question</button>
            <div id="question"></div>
            Options:
            <div id="options"></div>
            <button onclick="showAnswer()">Show the Answer</button>
            <div id="answer"></div>
        </main>
        <footer>
            &copy;2019 J. Sterling Wright, Virgina - 
            <a href="http://www.byui.edu/online">BYU-Idaho Online Learning</a>
        </footer>
        <script src="quiz.js"></script>
    </body>
</html>